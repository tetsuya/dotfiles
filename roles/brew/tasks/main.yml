---
- name: tap homebrew repositories
  homebrew_tap:
    name: homebrew/services
    state: present

- name: install brew packages
  homebrew:
    name: "{{ item }}"
    state: installed
  with_items:
    - ansible
    - fish
    - fzf
    - git
    - heroku
    - hub
    - jq
    - mas
    - mysql@5.7
    - rbenv
    - rmtrash
    - ruby-build
    - tree

- name: install brew cask packages
  homebrew_cask:
    name: "{{ item }}"
    state: installed
  with_items:
    - 1password
    - appcleaner
    - caffeine
    - cinch
    - dash
    - day-o
    - discord
    - docker
    - dropbox
    - firefox
    - fliqlo
    - flux
    - google-chrome
    - google-photos-backup
    - homebrew/cask-fonts/font-source-code-pro
    - imageoptim
    - iterm2
    - kindle
    - postman
    - sequel-pro
    - skitch
    - skype
    - slack
    - spotify
    - the-unarchiver
    - trailer
    - vagrant
    - virtualbox
    - visual-studio-code
    - vlc

- name: start mysql at login
  shell: brew services start mysql@5.7
